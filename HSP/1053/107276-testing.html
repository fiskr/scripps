<link href="http://images.hgtv.com/webhgrm/pkgs/2014/smart-home/local.css" rel="stylesheet">
<section>
		<# Proc name="getTPBanner" /#>
		<style type="text/css">
		div.intro.sweeps {margin:14px 14px 0;}
		#hg-we.sweeps {margin-top:14px;}
		.sni-e .thumb {float:left; margin-right:10px;}
		#feature .thumb {display: block; float: left; margin: 0 7px 7px 0;}
		#feature h3 {font-size: 21px; margin-bottom: 7px;}
		#sponsors {background-color: #fff; margin: 0 14px 21px; border: 1px solid #e6e6e6; border-width: 1px 0;}
		#sponsors-inner { padding: 0; }
		#sponsors img {background-color: #fff; margin-right:0; }
		#sweeps-articles h4 {margin-bottom: 0;}
		.sni-w h2 {font: bold 20px "Trebuchet MS", Helvetica, sans-serif; }
		.package .two-across li {margin: 0 13px 14px 0; }
		.local-nav {margin-bottom: 30px; padding-bottom: 14px; border-bottom: 1px solid #E6E6E6; }
		.two-across img {float: left; margin-right: 14px; margin-top: 3px; }
		.two-across h5 { margin-bottom: 0;}
		.local-nav {width: 977px; border-bottom: 1px solid #e6e6e6; padding-bottom: 14px; margin-bottom: 20px;} 
		.local-nav ul {margin-left: 10px;} 
		.hub-tabs ul li {border:none;}
		.hub-tabs ul li a {padding: 7px 10px 11px;}
		.hub-tabs ul li a.btn {font-size: 11px; margin: 3px 5px 3px; color: #fff; padding: 3px 10px; }
		.email-reminder-signup .rounded-input{width:320px;}
		.email-reminder-signup button{ left:325px; width:auto; white-space:nowrap; }
		.email-reminder-signup input[type=text] {height:29px; width:90%;} 
		.email-reminder-signup { border: none; margin: 14px 0; } 
		.email-reminder-signup h3 { font: normal 21px Arial; } 
		#sponsors li.newline-sponsor { clear:both; }
		#sweeps-articles { padding-top: 21px; }
		#sweeps-articles li .clrfix {border-bottom: 1px solid #e6e6e6; padding-bottom: 21px;}
		#sweeps-articles ul li { border-top: 1px dotted #E6E6E6;  margin-top: 0; padding-top: 21px;}
		#sweeps-articles ul li.first { border-top: none;  margin-top: 14px;}
		#sweeps-articles ul li.last { border-bottom: 1px solid #E6E6E6; margin-bottom: 0; padding-bottom: 21px;}
		#sweeps-fineprint { border-top: none; padding: 0 14px; }
		.sh14-title { margin-bottom: 14px; }
		#more-from li { margin-bottom: 14px; }
		#more-from .hd { margin-bottom: 14px; }
		/* Used to fix two-across promo included from the Firefly module */
		#more-from { margin-left: 0; margin-right: 0; margin-bottom: 21px; padding-bottom: 7px;} 
		#more-from h2.pb-current { margin-left: 14px; margin-right: 14px; }
		</style>
		<script type="text/javascript">$('div.local-nav a.sweeps').addClass('sel');</script>
		<!-- use &whitespace=false to make this UBER-compatible --> 
		
		
	<div class="sni-w sh14-sweeps">
		<div id="coming-soon">
			<div class="hub-tabs">
				<ul class="clrfix">
							<li><a class="btn" href="/hgtv-smart-home-2014-giveaway/package/index.html">Sweepstakes Main</a></li>
							<li><a class="btn" href="/hgtv-smart-home-2014-giveaway-rules/package/index.html">Rules</a></li>
							<li><a class="btn" href="/hgtv-smart-home-2014-giveaway-prizes/package/index.html">Prizes</a></li>
							<li class="selected"><a href="/hgtv-smart-home-2014-giveaway-enter/package/index.html">Entry Form</a></li>
				</ul>
			</div>
			<div class="intro sweeps">
				<div class="hello-world-states">
					<img src="http://hgtv.sndimg.com/webhgtv/hg20/imgs/hg-loader.gif" class="loaderimg" /> 
					
					<!-- Title Content -->
					<div class="state sweeps-intro login registration">
						<h2 class="sh14-title">HGTV Smart Home 2014 Giveaway</h2>
						<div style="height:100px;">Test Div</div>
					</div>
					<!-- End Title Content -->
					
					<!-- Intro Content -->
					<div class="state sweeps-intro login">
						<p style="margin-bottom: 7px;">Enter twice online per day &mdash; once on HGTVremodels.com and once on HGTV.com  &mdash;  for your chance to win the luxuriously furnished high-tech HGTV Smart Home 2014, an English country home located in the Nashville, TN community of Duncanwood Reserve, plus an all-new Lincoln MKZ Hybrid and a $100,000 cash prize provided by national mortgage lender Quicken Loans. The grand-prize package is valued at over $1 million.</p>
						<p style="margin-bottom: 7px;">Remember, you can enter through June 9, 2014, at 5 pm ET for a chance to win this high-tech home.</p>
					</div>
					<!-- End Intro Content -->
					
					
					<div id="kraken" class="state registration login limiter reg_thanks prelaunch ineligible_age maintenance">
						<iframe id="hw-iframe" src="https://www.youtube.com/embed/VKQtwvKa-aY" width="100%" scrolling="no" marginheight="0" marginwidth="0" frameborder="0"></iframe> 
					</div>
					
					
					<div class="state limiter reg_thanks">
						<!-- email reminder form -->
						<div class="email-reminder-signup" style="border-top:1px solid #E6E6E6; padding-top: 14px; ">
							<h3>Sign Up Now for Reminders</h3>
							<p>Receive <span class="list-label">daily email reminders to enter the HGTV Smart Home 2014 Giveaway</span> twice online per day &mdash; once on HGTVRemodels.com and once on HGTV.com.</p>
							<div class="form-wrap">
								<strong class="label">Your Email:</strong>
								<div id="valid-msg"></div>
								<div class="rounded-input">
									<input type="hidden" id="nl-name" value="smart" />
									<div class="input">
										<input type="text" name="emailaddress" id="emailaddress" value="" />
									</div>
									<button type="submit" class="btn"><em>Sign Up</em></button>
								</div>
							</div>
						</div>
						<div style="clear: both;"></div>

						<script src="http://www.hgtv.com/webhgtv/hg20/pkgs/js/futon3.js"></script>
						<script src="http://www.diynetwork.com/webdiy/diy20/pkgs/js/reminder.js"></script>
						<script type="text/javascript">
						ftn.reminder( 'smart', {successMsg : "<h3>Thank You!</h3><p>You have successfully registered to receive {list_label}. Messages will be sent to {email}.</p>"});
						</script>
						<!-- end email reminder form -->
					
						<!-- START Video -->
							<div class="dynlead-vid-wrap" style="padding-bottom:21px;">
								<div id="vplayer-1"> <a class="no-flash-msg" href="http://www.adobe.com/go/getflashplayer"> <img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player"> </a> </div>
							</div>
						<!-- END VIDEO  -->
						</div>
					
					<!-- Sponsor Block for Email Entry, Thanks, and Registration -->
					<div class="state login reg_thanks registration">
						<div id="sponsors">
							<div id="sponsors-inner"> 
								<h3>Presented By:</h3>
								<ul class="clrfix">
									<li><a href="http://adsremote.scrippsnetworks.com/event.ng/Type=click&FlightID=&AdID=&TargetID=&Values=2103185&Redirect=http:%2f%2fwww.lincoln.com" target="_blank"> 
										<img src="http://hgtv.sndimg.com/HGTV/2014/03/31/RX-SH14_lincoln-logo_s161x56.gif" alt="Lincoln"></a></li>
									<li><a href="http://adsremote.scrippsnetworks.com/event.ng/Type=click&FlightID=&AdID=&TargetID=&Values=2103186&Redirect=http:%2f%2fwww.shawfloors.com" target="_blank">
										<img src="http://hgtv.sndimg.com/HGTV/2014/03/31/RX-SH14_shaw-logo_s161x56.gif" alt="Shaw Floors"></a></li>
								</ul>
								<h3 class="unbold">Also Sponsored By:</h3>
								<ul class="also-by clrfix">
									<li><a href="http://adsremote.scrippsnetworks.com/event.ng/Type=click&FlightID=&AdID=&TargetID=&Values=2103187&Redirect=http:%2f%2fwww.adt.com/smart" target="_blank"> 
										<img src="http://images.hgtv.com/HGTV/2013/03/19/RX-SH2013_Sponsor-ADT-Logo_tall-level2_54x54.gif" alt="ADT"></a></li>
									<li><a href="http://adsremote.scrippsnetworks.com/event.ng/Type=click&FlightID=&AdID=&TargetID=&Values=2103188&Redirect=http:%2f%2fwww.quickenloans.com/online-mortgage-application/apply-now?qls=HGT_qlhgtv14.mortgage14" target="_blank"> 
										<img src="http://hgtv.sndimg.com/HGTV/2014/03/31/RX-SH14_quicken-logo_s119x41.gif " alt="Quicken Loans"></a></li>
									<li><a href="http://adsremote.scrippsnetworks.com/event.ng/Type=click&FlightID=&AdID=&TargetID=&Values=2103189&Redirect=http:%2f%2fwww.moen.com" target="_blank">
										<img src="http://hgtv.sndimg.com/HGTV/2014/03/31/RX-SH14_moen-logo_s119x41.gif" alt="Moen"></a></li>
									<li class="newline-sponsor"><a href="http://adsremote.scrippsnetworks.com/event.ng/Type=click&FlightID=&AdID=&TargetID=&Values=2103190&Redirect=http:%2f%2fwww.sherwin-williams.com/hgtvhome" target="_blank">
										<img src="http://hgtv.sndimg.com/HGTV/2014/03/31/RX-SH14_sherwin-logo_s92x54.gif " alt="Sherwin-Williams"></a></li>
									<li><a href="http://adsremote.scrippsnetworks.com/event.ng/Type=click&FlightID=&AdID=&TargetID=&Values=2103191&Redirect=http:%2f%2fwww.tempurpedic.com" target="_blank">
										<img src="http://hgtv.sndimg.com/HGTV/2014/03/31/RX-SH14_tempur-pedic-logo_s155x32.gif" alt="Tempuer-Pedic"></a></li>
									<li><a href="http://adsremote.scrippsnetworks.com/event.ng/Type=click&FlightID=&AdID=&TargetID=&Values=2103192&Redirect=http:%2f%2fwww.verizonwireless.com" target="_blank"> 
										<img src="http://hgtv.sndimg.com/HGTV/2014/03/31/RX-SH14_verizon-logo_s92x54.gif" alt="Verizon"></a></li>
								</ul>
							</div>
						</div>
					</div>
					<!-- END Sponsor Block for Email Entry and Thanks -->
					
					<!-- Thanks page content-->
					<div class="state limiter reg_thanks">
						<div id="sweeps-articles">
							<div class="hd">
								<h2>More from HGTV Smart Home 2014</h2>
							</div>
							<ul class="clrfix">
								<li class="first clrfix">
									<a href="http://www.hgtv.com/hgtv-smart-home-2014-tour/package/index.html" class="thumb"><img src="http://hgtv.sndimg.com/HGTV/2014/02/28/hgtv-20-sh14-great-room_h_med.jpg" width="160" height="120" alt="HGTV Smart Home 2014 Virtual Home Tour" /></a> 
									<h3><a href="http://www.hgtv.com/hgtv-smart-home-2014-tour/package/index.html">Step Inside</a></h3>
									<p>Explore each room in our new English country getaway via slideshows, 360&deg; images and exclusive videos.</p>
									<p><a href="http://www.hgtv.com/hgtv-smart-home-2014-tour/package/index.html">Take the Virtual Home Tour</a></p>
								</li>
								<li class="clrfix">
									<a target="_blank" href="http://www.hgtv.com/hgtv-green-homes-past/package/index.html" class="thumb"><img src="http://hgtv.sndimg.com/HGTV/2013/02/22/sh13_19-pool-EPP8188_4x3_med.jpg" width="160" height="120" alt="HGTV Smart Homes 6 Luxury Homes" /></a> 
									<h3><a target="_blank" href="http://www.hgtv.com/hgtv-green-homes-past/package/index.html">7 Years of HGTV Smart Homes</a></h3>
									<p>Loved the '08 and '13 homes? Explore your favorite HGTV Smart Homes from the past via photos, videos and 360&deg; images.</p>
									<p><a target="_blank" href="http://www.hgtv.com/hgtv-green-homes-past/package/index.html">Take the Virtual Home Tours</a></p>
								</li>
								<li class="last clrfix">
									<a href="http://blog.hgtv.com/sweepstakes/category/smart-home/" class="thumb"><img src="http://hgtv.sndimg.com/HGTV/2014/02/28/hgtv-27-sh14-great-room_h_med.jpg" width="160" height="120" alt="HGTV Smart Home Blog" /></a> 
									<h3><a href="http://blog.hgtv.com/sweepstakes/category/smart-home/">Blog With Us</a></h3>
									<p>Calling all die-hard HGTV Smart Home fans! Visit the blog to share your thoughts, ask questions and meet other home sweepstakes enthusiasts.</p>
									<p><a href="http://blog.hgtv.com/sweepstakes/category/smart-home/">Don&rsquo;t Be Shy</a></p>
								</li>
							</ul>
						</div>
						<!-- Cross Promo Begin -->    			
						<div id="more-from" class="pod">
							<div class="hd"><h2 class="pb-current">You Might Also Like...</h2></div>
							<div class="bd" style="width: auto;">
							<!-- Surprise- the cross promos are called from firefly. 
								Keeping the old stuff in case they try to surprise me by asking for hard-coded cross promo too.-->
								<# Proc name="getModuleInclude" param="HGRM|SH 2014 HGRM Thanks Cross Promo A|CONTENT WELL - TOP" /#>
								<# Proc name="getModuleInclude" param="HGRM|SH 2014 HGRM Thanks Cross Promo B|CONTENT WELL - TOP" /#>
								<!--<ul class="two-across clrfix">
									<li class="mod2">
										<a href="http://www.hgtvremodels.com/smart-home-2014/package/index.html"><img class="thumb" src="http://hgrm.sndimg.com/HGRM/2013/09/18/hgtv-sh14-construction-19-great-room_h_sm.jpg" width="98" height="75" alt="Building HGTV Smart Home 2014"></a>
										<h5><a href="http://www.hgtvremodels.com/smart-home-2014/package/index.html">Building the Home</a></h5>
										<p>Follow the construction process from day one.</p>
									</li>
									<li class="last" style="padding-right: 0px;">
										<a href="http://www.frontdoor.com/hgtv-smart-home-giveaway/" target="_blank"><img class="thumb" src="http://hgrm.sndimg.com/HGRM/2013/11/07/SH14_Nashville_General-Jackson_sm.jpg" width="98" height="75" alt="Nashville, Tennessee HGTV Smart Home 2014"></a>
										<h5><a href="http://www.frontdoor.com/hgtv-smart-home-giveaway/" target="_blank">Explore Nashville</a></h5>
										<p>Get real estate advice, community details and more.</p>
									</li>
								</ul>-->
							</div>
							<!--this is an extra border divider, what designers call "hr"- worked with the hard coded cross promo
							<div class="ft"></div>-->
						</div>
						<!-- CROSS PROMO END -->
					</div>
					<!-- End thanks page -->
					
					
					<!-- OOPS Page content -->
					<div class="state default_catchall">
						<h2>Our Bad</h2>
						<p>The server experienced a slight hiccup. Please resubmit your entry.</p>
						<p class="clrfix"> <a class="button" href="javascript:location.reload();"><span>Try Again</span></a> </p>
						<!-- Center well content three-down module-->
						<div id="sweeps-articles">
							<ul class="clrfix">
								<li class="first clrfix">
									<a href="http://www.hgtv.com/hgtv-smart-home-2014-tour/package/index.html" class="thumb"><img src="http://hgtv.sndimg.com/HGTV/2014/02/28/hgtv-20-sh14-great-room_h_med.jpg" width="160" height="120" alt="HGTV Smart Home 2014 Virtual Home Tour" /></a> 
									<h3><a href="http://www.hgtv.com/hgtv-smart-home-2014-tour/package/index.html">Step Inside</a></h3>
									<p>Explore each room in our new English country getaway via slideshows, 360&deg; images and exclusive videos.</p>
									<p><a href="http://www.hgtv.com/hgtv-smart-home-2014-tour/package/index.html">Take the Virtual Home Tour</a></p>
								</li>
								<li class="clrfix">
									<a href="http://www.hgtv.com/hgtv-green-homes-past/package/index.html" class="thumb"><img src="http://hgtv.sndimg.com/HGTV/2013/02/22/sh13_19-pool-EPP8188_4x3_med.jpg" width="160" height="120" alt="HGTV Smart Homes 6 Luxury Homes" /></a> 
									<h3><a href="http://www.hgtv.com/hgtv-green-homes-past/package/index.html">7 Years of HGTV Smart Homes</a></h3>
									<p>Loved the '08 and '13 homes? Explore your favorite HGTV Smart Homes from the past via photos, videos and 360&deg; images.</p>
									<p><a href="http://www.hgtv.com/hgtv-green-homes-past/package/index.html">Take the Virtual Home Tours</a></p>
								</li>
								<li class="last clrfix">
									<a href="http://blog.hgtv.com/sweepstakes/category/smart-home/" class="thumb"><img src="http://hgtv.sndimg.com/HGTV/2014/02/28/hgtv-27-sh14-great-room_h_med.jpg" width="160" height="120" alt="HGTV Smart Home Blog" /></a> 
									<h3><a href="http://blog.hgtv.com/sweepstakes/category/smart-home/">Blog With Us</a></h3>
									<p>Calling all die-hard HGTV Smart Home fans! Visit the blog to share your thoughts, ask questions and meet other home sweepstakes enthusiasts.</p>
									<p><a href="http://blog.hgtv.com/sweepstakes/category/smart-home/">Don&rsquo;t Be Shy</a></p>
								</li>
							</ul>
						</div> 
						<!-- END Center well content three-down module-->
						
						<!-- Cross Promo Begin -->    			
						<div id="more-from" class="pod">
							<div class="hd"><h2 class="pb-current">You Might Also Like...</h2></div>
							<div class="bd" style="width: auto;">
							<!-- Surprise- the cross promos are called from firefly. 
								Keeping the old stuff in case they try to surprise me by asking for hard-coded cross promo too.-->
								<# Proc name="getModuleInclude" param="HGRM|SH 2014 HGRM Thanks Cross Promo A|CONTENT WELL - TOP" /#>
								<# Proc name="getModuleInclude" param="HGRM|SH 2014 HGRM Thanks Cross Promo B|CONTENT WELL - TOP" /#>
								<!--<ul class="two-across clrfix">
									<li class="mod2">
										<a href="http://www.hgtvremodels.com/smart-home-2014/package/index.html"><img class="thumb" src="http://hgrm.sndimg.com/HGRM/2013/09/18/hgtv-sh14-construction-19-great-room_h_sm.jpg" width="98" height="75" alt="Building HGTV Smart Home 2014"></a>
										<h5><a href="http://www.hgtvremodels.com/smart-home-2014/package/index.html">Building the Home</a></h5>
										<p>Follow the construction process from day one.</p>
									</li>
									<li class="last" style="padding-right: 0px;">
										<a href="http://www.frontdoor.com/hgtv-smart-home-giveaway/" target="_blank"><img class="thumb" src="http://hgrm.sndimg.com/HGRM/2013/11/07/SH14_Nashville_General-Jackson_sm.jpg" width="98" height="75" alt="Nashville, Tennessee HGTV Smart Home 2014"></a>
										<h5><a href="http://www.frontdoor.com/hgtv-smart-home-giveaway/" target="_blank">Explore Nashville</a></h5>
										<p>Get real estate advice, community details and more.</p>
									</li>
								</ul>-->
							</div>
							<!--this is an extra border divider, what designers call "hr"- worked with the hard coded cross promo
							<div class="ft"></div>-->
						</div>
						<!-- CROSS PROMO END -->
					</div>
					<!-- End OOPS page -->
				</div>
			</div>
			<div id="sweeps-fineprint">
				<p>No purchase necessary. Open to legal residents of the U.S., age 21 or older. Void where prohibited. Sweepstakes ends at 5 p.m. ET on 6/9/14. Odds of winning depend on number of entries received. For full official rules, visit hgtv.com or send a self addressed stamped envelope to: &ldquo;HGTV Smart Home Giveaway&rdquo; &mdash; RR, P.O. Box 51573, Knoxville, TN 37950. Main Sponsor: Scripps Networks, LLC d/b/a Home & Garden Television.</p>
			</div>
		</div>
	</div>
	<div class="sni-e">
		<div class="pod">
			<div class="toolbar">
				<ul>
					<!--<li id="tb-print"><a target="_blank">Print</a></li>-->
					<li id="tb-email"></li>
					<li id="tb-tweet"></li>
					<li id="tb-facebook"></li>
				</ul>
				<div id="email-a-friend"></div>
				<script type="text/javascript">SNI.Util.Toolbar();</script>
			</div>
		</div>
		<div class="pod">
			<div id="bigbox"><script type="text/javascript">BigboxAd(5);</script><cite class="cap center">Advertisement</cite></div>
		</div>
		<div class="pod mrec">
			<div id="bigbox300x150"> 
				<script type="text/javascript">BigboxAd300x150(1,'');</script> 
			</div>
		</div>
    </div>	
</section>
		<!-- include styles for mobile --> 
		<!--<link rel="stylesheet" href="http://images.hgtv.com/webhgtv/hg20/pkgs/2014/dream-home/local.css" />-->
		<link href="http://images.hgtv.com/webhgtv/hg20/pkgs/2014/dream-home/potd/local.css" rel="stylesheet" />
		<link rel="stylesheet" href="http://images.hgtv.com/webhgtv/hg20/pkgs/2014/smart-home/helloworld/helloworld.css" />
		
<!-- 
Hello Curious Developer, you may wonder why the following script tags call a script from HGTV's server for an HGRM page.
It is simple- Smart Home Giveaway 2014 was hosted simultaneously on HGTV and HGRM. 
We had some pretty common code as a result, and putting in one place made more sense.
The init.js file, however, is unique to this page, and is thus hosted on an HGRM server.
-->
<script type="text/javascript" src="http://images.hgtv.com/webhgtv/hg20/pkgs/2014/smart-home/helloworld/iframeResizer.js"></script>
<script type="text/javascript">
	/* depends on jQuery ( v1.4.2+ ) as $, and iframeResizer.js from Hello World, and of course, mdManager/adManager/Omniture's object 's' */

if ( !window.console ) { window.console = { log : function() {} }; }

SNI.TP = SNI.TP || {};
SNI.TP.Sweeps = SNI.TP.Sweeps || {};

SNI.TP.isIE = function ( version ) {
    var result,
        regex = /MSIE ([0-9]*)\./ig;

    while ( result = regex.exec( navigator.userAgent ) ) {
        if ( version && ( Number( result[1] ) === Number( version ) ) ) {
            return true;
        } else {
            if ( !version && ( result && result[1] ) ) {
                return Number( result[1] );
            } else {
            	return false;
            }
        }
    }
    return false;
}
SNI.TP.addEventListener = function(evnt, elem, func) {
   if (elem.addEventListener)  // W3C DOM
      elem.addEventListener(evnt,func,false);
   else if (elem.attachEvent) { // IE DOM
      elem.attachEvent("on"+evnt, func);
   }
   else { // No much to do
      elem[evnt] = func;
   }
};

SNI.TP.Sweeps.HelloWorld = {
	"init" : function( domElems, config ) {
		var ieVersion	= SNI.TP.isIE(),
			HW			= SNI.TP.Sweeps.HelloWorld,
			ieMsg		= 'We&rsquo;re sorry, your browser, <strong>Internet Explorer version {version}</strong>, is not supported for this sweepstakes form. Please upgrade to the latest version of <a href="http://www.google.com/chrome" target="_blank">Chrome</a>, <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie" target="_blank">Internet Explorer</a>, <a href="http://www.apple.com/safari/" target="_blank">Safari</a>, or <a href="http://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a>',
			detId = mdManager.getParameter( 'DetailId' );
		
		if ( HW.inited ) {
			console.log( 'Hello World states already initialized! Why you initialize again?' );
			return true;
		}
		
		if ( config[detId] ) {
			config = config[detId];
		} else {
			if ( window.location.host.indexOf( 'staging' ) !== -1 ) {
				for ( var key in config ) {
					if ( config[key]['stagingDetailId'] && ( config[key]['stagingDetailId'] == detId ) ) {
						config = config[key];
						break;
					}
				}
			}
		}
		
		if ( !config || !config.states || !domElems || !domElems.states || ( domElems.states.length === 0 ) ) {
			console.log( "This page hasn't been properly configured as a Hello World sweeps page." );
			return false;
		}
		
		HW.origTitle	= mdManager.getParameter( 'Title' );
		HW.origType		= mdManager.getParameter( 'Type' );
		HW.statesCfg	= config.states;
		HW.domElems		= domElems;
		
		HW.setMetaData( HW.getDefaultState() );
		HW.inited = true;
		
		$( function() {
			$.each( HW.domElems, function( key, value ){
				HW.domElems[key] = $( HW.domElems[key] );
			} );
			
			HW.domElems.iframe = HW.domElems.states.find( 'iframe' ).closest( HW.domElems.states.selector );
			
			HW.domElems.states.hide();
			HW.domElems.loader.hide();
			
			if ( ieVersion && ( ieVersion <= 8 ) ) {
				
				ieMsg = '<div class="msg-error-browser-not-supported">' + ieMsg + '</div>';
				HW.setDefaultState();
				HW.domElems.iframe.hide().before( ieMsg.replace( '{version}', ieVersion ) );
				
			} else {
				
				iFrameResize( {
					'log'                     : false,
					'enablePublicMethods'     : true,
					'resizedCallback'         : function( messageData ){
						console.log( 'iframe resized to: ' + messageData.width + 'x' + messageData.height );
						HW.setState( messageData.page );
					}
				} );
				
				HW.setDefaultState();
				
			}
			if ( config.docReady && ( typeof config.docReady === "function" ) ) {
				config.docReady();
			}
				
		} );
		return true;
	},
	"setState" : function( state ) {
		var catchall	= 'default_catchall',
			HW			= SNI.TP.Sweeps.HelloWorld,
			cfg			= HW.statesCfg[state],
			states		= HW.domElems.states,
			scroll			= $( window ).scrollTop();
		
		if ( !cfg ) {
			console.log( 'State "' + state + '" has not been configured...' );
			if ( HW.statesCfg[ catchall ] ) {
				console.log( 'Using ' + catchall + ' state.' );
				state = catchall;
				cfg = HW.statesCfg[state];
			} else {
				return;
			}
		}
		
		//don't set status when it's not actually changing, unless it's the catchall (error) state
		if ( ( state !== catchall ) && HW.currentState && ( HW.currentState === state ) ) {
			return;
		}
		
		if ( cfg.leave && ( typeof cfg.leave === "function" ) ) {
			cfg.leave.call( this, state );
		}
		
		if ( ( state !== HW.getDefaultState() ) && scroll && ( scroll > 0 ) ) {
			$( window ).scrollTop( 0 );
		}
		
		( function() {
			cfg.hide = ( ( typeof cfg.hide === "string" ) ? $( cfg.hide ) : cfg.hide ) || states;
			cfg.show = ( ( typeof cfg.show === "string" ) ? $( cfg.show ) : cfg.show ) || states.filter( '.' + state );
		
			if ( cfg.hide && ( cfg.hide.length > 0 ) && ( typeof cfg.hide.hide === "function" ) ) {
				cfg.hide.hide();
			}
			if ( cfg.show && ( cfg.show.length > 0 ) && ( typeof cfg.show.show === "function" ) ) {
				cfg.show.show().css( 'visibility', 'visible' );
			}
			HW.domElems.loader.hide();
		} )();
		
		if ( cfg.enter && ( typeof cfg.enter === "function" ) ) {
			cfg.enter.call( this, state );
		}

		console.log('After call: ' + $(document).height());
		
		HW.currentState = state;
		console.log( 'State changed to: ' + state );
		
		if ( cfg.omniture !== false ) {
			HW.pageView( state, catchall );
		}
	},
	"getDefaultState" : function() {
		var first,
			HW	= SNI.TP.Sweeps.HelloWorld,
			cfg	= HW.statesCfg;
			
		for ( first in cfg ) break;
		
		for( var key in cfg ) {
			if ( cfg[key]['default'] === true ) {
				return key;
			}
		}
		return first;
	},
	"setDefaultState" : function() {	
		var HW = SNI.TP.Sweeps.HelloWorld;
		HW.setState( HW.getDefaultState() );
	},
	"pageView" : function( state, catchall ) {
		
		var HW				= SNI.TP.Sweeps.HelloWorld,
			cfg				= HW.statesCfg[state].omniture,
			defaultState	= HW.getDefaultState();
		
		if ( !cfg || !cfg.page_num ) { return; }
		
		HW.setMetaData( state );
		
		if ( state !== defaultState ) {
			
		    if (typeof s == "object") {
				s.t();
				console.log( 'pageView fired!' );
		    }
			
			HW.refreshAds();
		}
		return;
	},
	"setMetaData" : function( state ) {
		var mdm				= mdManager,
			HW				= SNI.TP.Sweeps.HelloWorld,
			cfg				= HW.statesCfg[state].omniture,
			origType		= HW.origType,
			origTitle		= HW.origTitle,
			uniq			= mdm.getParameter( 'Site' ) + '-' + origType + '-' + mdm.getParameter( 'DetailId' ) + '-' + cfg.page_num,
			titleSuffix		= ( cfg ) ? cfg.report_title || cfg.internal_state || state : '',
			title			= ( titleSuffix.length > 0 ) ? origTitle + ' - ' + titleSuffix : origTitle,
			omnitureParams	= {
				'Title'			: title,
				'UniqueId'		: uniq,
				'PageNumber'	: cfg.page_num,
				'Type'			: 'Sweepstakes'
			};
		
		omnitureParams = ( cfg.mdm_override ) ? $.extend( omnitureParams, cfg.mdm_override ) : omnitureParams;
		
		
	    $.each( omnitureParams, function( key, value ){
			if ( typeof mdManager.getParameter( key ) == 'undefined' ) {
				mdManager.addParameter( key, value );
			} else {
				mdManager.setParameter( key, value );
			}
			if ( typeof adManager.getParameter( key ) == 'undefined' ) {
				adManager.addParameter( key, value );
			} else {
				adManager.setParameter( key, value );
			}
	    } );
	},
	"refreshAds" : function() {
		var now = new Date(),
			ad_ord = now.getTime() % 10000000000;
			
		adManager.setParameter( 'ord', ad_ord );
		
		if ( /Android|webOS|iPhone|iPod|BlackBerry/i.test( navigator.userAgent ) ) {
			setDartEnterpriseBanner( 'MOBILE_BANNER', getDartEnterpriseUrl( 'MOBILE_BANNER', 1 ) );
		} else {
			setDartEnterpriseBanner( 'LEADERBOARD', getDartEnterpriseUrl( 'LEADERBOARD', 1 ) );
			setDartEnterpriseBanner( 'BIGBOX', getDartEnterpriseUrl( 'BIGBOX', 5 ) );
		}
		
	}
};

</script>
<!-- Should be known that putting init.js in a doc.ready block would prevent ad calls from being made properly -->
<script type="text/javascript">
	
	(function($) {

var currentSweeps = ( $( '.sh14-sweeps' ).length > 0 ),
	
	//this should be done more elegantly when time allows...
	iosFix = function() {
		if ( /Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test( navigator.userAgent ) ) {
			$( '.hello-world-states > .state.registration iframe' ).css( { 'width' : $( '.hello-world-states > .state' ).width() + 'px' } );
		}
	},
	
	
	HWDomElems = {
		'states' : '.hello-world-states > .state' ,
		'loader' : '.hello-world-states img.loaderimg'
	},
	
	HWSweepsCfg = {
		//smart Home 2014 sweeps
		107276 : { //DetailID
		
			'stagingDetailId' : 108334,
			
			'states': {
				//email entry form
				'login' : {
					'enter' : function( state ) { 
						$(function(){
							$('#hw-iframe').css('z-index', '510').css('position', 'relative');
							$('#all-scripps').css('z-index', '499');
							
							var w = $( document ).width();
							var h = $( document ).height();
							console.log(w+', '+h);
							console.log($('.kitty-kat').height() + ' iframe')
							$('body').append('<div class="hw-overlay" style="background-color: black; opacity: 0.5; z-index: 500; width: '+ w +'px; background-repeat: no-repeat; background-position: center center; position: absolute; top: 0px; left: 0px; height: '+ h +'px;"></div>');
							$(window).resize(function(){
							    $('.clown-fish').width($( document ).width())
							                    .height($( document ).height());
							});

							
						});
						iosFix(); $( '.hello-world-states > .state.registration iframe' ).css( 'position', 'relative' ); 
					},
					'omniture' : {
						'page_num' : 1,
						'report_title' : 'Email Entry',
						'mdm_override' : {
							'Sweepstakes' : 'SweepsLogin'
						}
					}
				},

				'registration' : {  //entry form
					'omniture' : {
						'page_num' : 2,
						'report_title' : 'Entry Form',
						'mdm_override' : {
							'Sweepstakes' : 'SweepsFullEntry'
						}
					}
				},

				//thanks
				'reg_thanks' : {
					//'default' : true,
					'omniture' : {
						'page_num' : 3,
						'report_title' : 'Thanks',
						'mdm_override' : {
							'Sweepstakes' : 'SweepsThankYou'
						}
					},
					'enter' : function() {

						// params: (playerid, channelid)
						// player id needs to be unique for this page and match the div id above
						var snap = new SNI.HGRM.Player.FullSize('vplayer-1', '81021', '', '', {enableSyncAdFix: 0, dimensions: {width: 615, height: 567}, flashvars: { autoplay: true }});
					
					}
				},

				//'too soon' msg
				'limiter' : {
					'omniture' : {
						'page_num' : 4,
						'report_title' : 'Too Soon',
						'mdm_override' : {
							'Sweepstakes' : 'SweepsTooSoon'
						}
					},
					'enter' : function() {

						// params: (playerid, channelid)
						// player id needs to be unique for this page and match the div id above
						var snap = new SNI.HGRM.Player.FullSize('vplayer-1', '81021', '', '', {enableSyncAdFix: 0, dimensions: {width: 615, height: 567}, flashvars: { autoplay: true }});
					
					}
				},

				'prelaunch' : {},

				'default_catchall' : {	// known states that will use this:  fatal, prelaunch, expired, maintenance, ineligible_age
	
					'omniture' : {
						'page_num' : 5,
						'report_title' : 'Oops',
						'internal_state' : 'oops',
						'mdm_override' : {
							'Sweepstakes' : 'SweepsOops'
						}
					}
				},
				
				'ineligible_age' : {
					'omniture' : {
						'page_num' : 6,
						'report_title' : 'Ineligible Age'
					}
				},
				
				'maintenance' : {
					'omniture' : {
						'page_num' : 7,
						'report_title' : 'Maintenance'
					}
				},
				
				'expired' : {
					'omniture' : {
						'page_num' : 8,
						'report_title' : 'Expired'
					}
				}
			}
			
		}
	};
	

if ( SNI.HGTV && SNI.HGTV.tabHighlight ) {
	SNI.HGTV.tabHighlight();
}

if ( currentSweeps && SNI.TP.Sweeps.HelloWorld.init( HWDomElems, HWSweepsCfg ) ) {
	//omniture requirements from HSP-564 and HSP-569
	var allowAbndnTrack = false,
		lastElement = mdManager.getParameter('sponsorship') + "|none",
		delay = function(ms) {
			var start = +new Date();
			while ((+new Date() - start) < ms){}
		};
	$(window).bind('beforeunload',function(event){
		// allowAbndnTrack should be false if there was a submit
		if ( allowAbndnTrack ) {
			allowAbndnTrack = false;
			s.linkTrackVars = "eVar50,events";
			s.linkTrackEvents = "event85";
			s.eVar50 = lastElement;
			s.events="event85";
			s.tl(event, 'o', 'abandonned sweeps entry');
			delay(200); //give the analytics call time to go out
		}
	});
	SNI.TP.addEventListener( "message", window, function(event){
		var evArray;
		//track demographics for sweeps entry
		if ( event.data.match(/eVar36/) ) {
			evArray = event.data.split(":",2);
			s.linkTrackVars = 'eVar36';
			s.linkTrackEvents = '';
			s.events = '';
			s.eVar36 = evArray[1];
			s.tl(event, 'o', 'sweeps entry');
		}
		//record the last element
		if ( event.data.match(/last_elememt/) ) {
			evArray = event.data.split(":",2);
			allowAbndnTrack = true;
			lastElement = mdManager.getParameter('sponsorship') + "|" + evArray[1];
		}
		//received a message to block the form abandonment event (triggered by a submit)
		if ( event.data.match(/block_abandoned/) ) {
			allowAbndnTrack = false; 
			setTimeout(function() {
				// reset this flag (scenario: failed validation)
				allowAbndnTrack = true;
			},1000);
		}
	}, false);
	
	
	$( function() {
		//remove empty p tags created by CMA in Uber output
		$( HWDomElems.states ).find( 'p' ).each( function() {
			if ( !$( this ).text() ) {
				$( this ).remove();
			}
		} );
	} );
	
}

})(jQuery);
</script>

