(function(e){if(!window.console){window.console={log:function(){}}}SNI.TP=SNI.TP||{};SNI.TP.Sweeps=SNI.TP.Sweeps||{};SNI.TP.isIE=function(e){var t,n=/MSIE ([0-9]*)\./ig;while(t=n.exec(navigator.userAgent)){if(e&&Number(t[1])===Number(e)){return true}else{if(!e&&t&&t[1]){return Number(t[1])}else{return false}}}return false};SNI.TP.addEventListener=function(e,t,n){if(t.addEventListener)t.addEventListener(e,n,false);else if(t.attachEvent){t.attachEvent("on"+e,n)}else{t[e]=n}};SNI.TP.Sweeps.HelloWorld={init:function(t,n){var r=SNI.TP.isIE(),i=SNI.TP.Sweeps.HelloWorld,s='We&rsquo;re sorry, your browser, <strong>Internet Explorer version {version}</strong>, is not supported for this sweepstakes form. Please upgrade to the latest version of <a href="http://www.google.com/chrome" target="_blank">Chrome</a>, <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie" target="_blank">Internet Explorer</a>, <a href="http://www.apple.com/safari/" target="_blank">Safari</a>, or <a href="http://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a>',o=mdManager.getParameter("DetailId");if(i.inited){console.log("Hello World states already initialized! Why you initialize again?");return true}if(n[o]){n=n[o]}else{if(window.location.host.indexOf("staging")!==-1||window.location.host.indexOf("qa")!==-1){for(var u in n){if(n[u]["stagingDetailId"]&&n[u]["stagingDetailId"]==o){n=n[u];break}}}}if(!n||!n.states||!t||!t.states||t.states.length===0){console.log("Config?: ",n,"	Config States?: ",n.states,"	domElems?: ",t,"	domElems.states?: ",t.states,"	domElems.states.length?: ",t.states.length);console.log("This page hasn't been properly configured as a Hello World sweeps page.");return false}i.origTitle=mdManager.getParameter("Title");i.origType=mdManager.getParameter("Type");i.statesCfg=n.states;i.domElems=t;i.setMetaData(i.getDefaultState());i.inited=true;e(function(){e.each(i.domElems,function(t,n){i.domElems[t]=e(i.domElems[t])});i.domElems.iframe=i.domElems.states.find("iframe").closest(i.domElems.states.selector);if(!document.URL.match(/author\./g)){i.domElems.states.hide()}else if(document.URL.match(/wcmmode\=disabled/g)){i.domElems.states.hide()}i.domElems.loader.hide();if(r&&r<=8){s='<div class="msg-error-browser-not-supported">'+s+"</div>";i.setDefaultState();if(!document.URL.match(/author\./g)){i.domElems.iframe.hide().before(s.replace("{version}",r))}else if(document.URL.match(/wcmmode\=disabled/g)){i.domElems.states.hide()}}else{iFrameResize({log:false,enablePublicMethods:true,resizedCallback:function(e){console.log("iframe resized to: "+e.width+"x"+e.height);i.setState(e.page)}});i.setDefaultState()}if(n.docReady&&typeof n.docReady==="function"){n.docReady()}});return true},setState:function(t){var n="default",r="register_error",i=SNI.TP.Sweeps.HelloWorld,s=i.statesCfg[t],o=i.domElems.states,u=e(window).scrollTop();if(!s){console.warn('State "'+t+'" has not been configured...');if(i.statesCfg[n]){console.log("Using "+n+" state.");t=n;s=i.statesCfg[t]}else{console.error("HW-STATES: There is no catchall/default state...");return}}if(t!==n&&t!==r&&i.currentState&&i.currentState===t){return}if(s.leave&&typeof s.leave==="function"){s.leave.call(this,t)}if(t!==i.getDefaultState()&&u&&u>0){if(t===r){var a=e("h2.bc14-title").offset()?e("h2.bc14-title").offset().top:"0px";e("html, body").animate({scrollTop:a},1e3)}else{e(window).scrollTop(0)}}(function(){s.hide=(typeof s.hide==="string"?e(s.hide):s.hide)||e(o);s.show=(typeof s.show==="string"?e(s.show):s.show)||e(o).filter("."+t);if(s.hide&&s.hide.length>0&&typeof s.hide.hide==="function"&&!document.URL.match(/author\./g)){s.hide.hide()}else if(document.URL.match(/wcmmode\=disabled/g)){s.hide.hide()}else{console.error("could not hide because either cfg.hide didn't exist, it didn't have a length greater than 0, or cfg.hide.hide wasn't a function")}if(s.show&&s.show.length>0&&typeof s.show.show==="function"){s.show.show().css("visibility","visible")}else{console.error("could not show because either cfg.show didn't exist, it didn't have a length greater than 0, or cfg.show.show wasn't a function")}e(i.domElems.loader).hide()})();if(s.enter&&typeof s.enter==="function"){s.enter.call(this,t)}i.currentState=t;console.log("State changed to: "+t);if(s.omniture!==false){i.pageView(t,n)}},getDefaultState:function(){var e,t=SNI.TP.Sweeps.HelloWorld,n=t.statesCfg;for(e in n)break;for(var r in n){if(n[r]["default"]===true){return r}}return e},setDefaultState:function(){var e=SNI.TP.Sweeps.HelloWorld;e.setState(e.getDefaultState())},pageView:function(e,t){var n=SNI.TP.Sweeps.HelloWorld,r=n.statesCfg[e].omniture,i="register_error",o=n.getDefaultState();if(!r||!r.page_num){return}n.setMetaData(e);if(e!==o&&e!==i){if(typeof s=="object"){s.t();console.log("pageView fired!")}n.refreshAds()}return},setMetaData:function(t){var n=mdManager,r=SNI.TP.Sweeps.HelloWorld,i=r.statesCfg[t].omniture,s=r.origType,o=r.origTitle,u=n.getParameter("Site")+"-"+s+"-"+n.getParameter("DetailId")+"-"+i.page_num,a=i?i.report_title||i.internal_state||t:"",f=a.length>0?o+" - "+a:o,l={Title:f,UniqueId:u,PageNumber:i.page_num,Type:"Sweepstakes"};l=i.mdm_override?e.extend(l,i.mdm_override):l;e.each(l,function(e,t){if(typeof mdManager.getParameter(e)=="undefined"){mdManager.addParameter(e,t)}else{mdManager.setParameter(e,t)}})},refreshAds:function(){var e=new Date,t=e.getTime()%1e10;if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)){SniAds.refreshSlot("dfp_smartphone_banner")}else{SniAds.refreshSlot("dfp_leaderboard");SniAds.refreshSlot("dfp_bigbox")}}}})(jQuery)